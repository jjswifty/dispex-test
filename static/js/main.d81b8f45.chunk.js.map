{"version":3,"sources":["services/BaseService.js","modules/Constants.js","modules/HttpClient.js","services/ManagementCompanyService.js","services/ClientService.js","services/ApartmentsService.js","store/reducers/apartments-reducer.js","store/reducers/companies-reducer.js","components/CompanyPage/Apartments/Apartment/Clients/Client/Client.jsx","components/CompanyPage/Apartments/Apartment/Clients/Clients.jsx","components/CompanyPage/Apartments/Apartment/Apartment.jsx","components/CompanyPage/Apartments/Apartments.jsx","components/CompanyPage/Houses/House/House.jsx","components/CompanyPage/Houses/Houses.jsx","components/CompanyPage/Streets/Street.jsx/Street.jsx","components/CompanyPage/Streets/Streets.jsx","components/CompanyPage/CompanyPage.jsx","components/CompanySelect/CompanySelect.jsx","components/App.js","reportWebVitals.js","store/index.js","index.js"],"names":["BaseService","httpClient","this","instance","interceptors","request","use","config","headers","process","error","Promise","reject","Config","HttpClient","baseURL","axios","create","getManagementCompanies","params","a","get","data","getStreets","getClients","addClient","post","deleteClient","console","log","delete","getApartments","SET_STREETS","SET_APARTMENTS","SET_APARTMENTS_FETCHING","SET_STREETS_FETCHING","SET_IS_STREETS_FETCHED","initialState","streets","isApartmentsFetching","isStreetsFetching","apartments","isStreetsFetched","setStreetsFetching","boolean","type","setApartmentsFetching","setStreets","setApartments","apartmentsReducer","state","action","SET_COMPANIES","SET_SELECTED_COMPANY","SET_SELECTED_COMPANY_NAME","SET_IS_COMPANY_SELECTED","TOGGLE_FETCHING","companies","selectedCompany","selectedCompanyName","isCompanySelected","isFetching","toggleFetching","setCompanies","setIsCompanySelected","setChosenCompany","companyId","companyName","dispatch","Number","companiesReducer","useStyles","makeStyles","root","listStyleType","card","width","height","display","flexDirection","textAlign","border","margin","Client","props","classes","useState","clientDeleted","setClientDeleted","handleDelete","clientService","client","bindId","className","name","phone","onClick","clients","flexWrap","Clients","addedClients","setName","setPhone","push","id","apartment","length","map","index","value","onInput","e","target","placeholder","onKeyPress","event","test","key","preventDefault","String","disabled","Apartment","isOpened","setIsOpened","Apartments","addressId","House","houseNumber","streetHouses","Object","values","Houses","streetHousesKeys","button","Street","street","keys","houses","isStreetOpened","setStreetOpened","Button","variant","Streets","maxWidth","paddingLeft","CompanyPage","useDispatch","selectedCompanyId","useSelector","useEffect","managementCompanyService","Error","apartmentsService","forEach","apartmentsOnThisStreet","filter","streetId","housesWithApartments","houseId","color","Typography","padding","minHeight","justifyContent","alignItems","formControl","minWidth","CompanySelect","companiesList","FormControl","InputLabel","Select","onChange","optionHandler","defaultValue","MenuItem","theme","createTheme","palette","typography","allVariants","App","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","applyMiddleware","ReduxThunk","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qMAgBeA,EAfX,WAAaC,GAAa,oBACtBC,KAAKC,SAAWF,EAAWE,SAE3BD,KAAKC,SAASC,aAAaC,QAAQC,KAAI,SAAAC,GAInC,OAFAA,EAAOC,QAAP,+BADcC,wCAGPF,KAEX,SAAAG,GACIC,QAAQC,OAAOF,O,gBCXdG,EACAJ,+B,iBCCQK,EACjB,WAAYC,GAAU,oBAClBb,KAAKC,SAAWa,IAAMC,OAAO,CACzBF,UACAP,QAAS,CACL,eAAgB,uBCejB,M,4MAjBXU,uB,uCAAyB,WAAOC,GAAP,iBAAAC,EAAA,sEACE,EAAKjB,SAASkB,IAAI,qBAAsB,CAC3DF,WAFiB,uBACbG,EADa,EACbA,KADa,kBAKdA,GALc,2C,wDAQzBC,W,uCAAa,WAAOJ,GAAP,iBAAAC,EAAA,sEACc,EAAKjB,SAASkB,IAAI,mBAAoB,CACzDF,WAFK,uBACDG,EADC,EACDA,KADC,kBAKFA,GALE,2C,kEATsBtB,GAkBxB,CAA6B,IAAIc,EAAWD,ICO5C,M,4MAxBXW,W,uCAAa,WAAOL,GAAP,iBAAAC,EAAA,sEACc,EAAKjB,SAASkB,IAAI,uBAAwB,CAC7DF,WAFK,uBACDG,EADC,EACDA,KADC,kBAKFA,GALE,2C,wDAQbG,U,uCAAY,WAAON,GAAP,iBAAAC,EAAA,sEACe,EAAKjB,SAASuB,KAAK,uBAAwB,CAC9DP,WAFI,uBACAG,EADA,EACAA,KADA,kBAKDA,GALC,2C,wDAQZK,a,uCAAe,WAAOR,GAAP,iBAAAC,EAAA,6DACXQ,QAAQC,IAAIV,EAAQ,WADT,SAEY,EAAKhB,SAAS2B,OAAd,oCAAkDX,IAF9D,uBAEHG,EAFG,EAEHA,KAFG,kBAIJA,GAJI,2C,kEAjBStB,GAyBb,CAAkB,IAAIc,EAAWD,ICfjC,M,4MATXkB,c,uCAAgB,WAAOZ,GAAP,iBAAAC,EAAA,sEACW,EAAKjB,SAASkB,IAAI,gBAAiB,CACtDF,WAFQ,uBACJG,EADI,EACJA,KADI,kBAKLA,GALK,2C,kEADYtB,GAUjB,CAAsB,IAAIc,EAAWD,ICZ9CmB,EAAc,gBACdC,EAAiB,iBACjBC,EAA0B,0BAC1BC,EAAuB,uBACvBC,EAAyB,yBAE3BC,EAAe,CACfC,QAAS,GACTC,sBAAsB,EACtBC,mBAAmB,EACnBC,WAAY,GACZC,kBAAkB,GAyChBC,EAAqB,SAAAC,GAAO,MAAK,CAACC,KAAMV,EAAsBS,YAC9DE,EAAwB,SAAAF,GAAO,MAAK,CAACC,KAAMX,EAAyBU,YAC7DG,EAAa,SAAAT,GAAO,MAAK,CAACO,KAAMb,EAAaM,YAE7CU,EAAgB,SAAAP,GAAU,MAAK,CAACI,KAAMZ,EAAgBQ,eA+BpDQ,EAzEW,WAAmC,IAAlCC,EAAiC,uDAAzBb,EAAcc,EAAW,uCACxD,OAAQA,EAAON,MAEX,KAAKb,EACD,OAAO,2BACAkB,GADP,IAEIZ,QAASa,EAAOb,UAGxB,KAAKL,EACD,OAAO,2BACAiB,GADP,IAEIT,WAAYU,EAAOV,aAG3B,KAAKP,EACD,OAAO,2BACAgB,GADP,IAEIX,qBAAsBY,EAAOP,UAGrC,KAAKT,EACD,OAAO,2BACAe,GADP,IAEIV,kBAAmBW,EAAOP,UAGlC,KAAKR,EACD,OAAO,2BACAc,GADP,IAEIR,iBAAkBS,EAAOP,UAGjC,QACI,OAAOM,I,2BChDbE,EAAgB,gBAChBC,EAAuB,uBACvBC,EAA4B,4BAC5BC,EAA0B,0BAC1BC,EAAkB,kBAEpBnB,EAAe,CACfoB,UAAW,GACXC,gBAAiB,KACjBC,oBAAqB,GACrBC,mBAAmB,EACnBC,YAAY,GAwCVC,EAAiB,iBAAO,CAACjB,KAAMW,IACxBO,EAAe,SAAAN,GAAS,MAAK,CAACZ,KAAMO,EAAeK,cAGnDO,EAAuB,SAAAJ,GAAiB,MAAK,CAACf,KAAMU,EAAyBK,sBAe7EK,EAAmB,SAACC,EAAWC,GAAZ,OAA4B,SAAAC,GAjB1B,IAAAV,EAkB9BU,GAlB8BV,EAkBFW,OAAOH,GAlBe,CAACrB,KAAMQ,EAAsBK,qBAmB/EU,EAlBkD,CAACvB,KAAMS,EAA2BK,oBAkB5DQ,IACxBC,EAASJ,GAAqB,MAGnBM,EA9DU,WAAmC,IAAlCpB,EAAiC,uDAAzBb,EAAcc,EAAW,uCACvD,OAAQA,EAAON,MACX,KAAKO,EACD,OAAO,2BACAF,GADP,IAEIO,UAAWN,EAAOM,YAG1B,KAAKJ,EACD,OAAO,2BACAH,GADP,IAEIQ,gBAAiBP,EAAOO,kBAGhC,KAAKJ,EACD,OAAO,2BACAJ,GADP,IAEIS,oBAAqBR,EAAOQ,sBAGpC,KAAKJ,EACD,OAAO,2BACAL,GADP,IAEIU,kBAAmBT,EAAOS,oBAGlC,KAAKJ,EACD,OAAO,2BACAN,GADP,IAEIW,YAAaX,EAAMW,aAG3B,QACI,OAAOX,I,eC7CbqB,EAAYC,YAAW,CACzBC,KAAM,CACFC,cAAe,QAEnBC,KAAM,CACFC,MAAO,IACPC,OAAQ,IACRC,QAAS,OACTC,cAAe,SACfC,UAAW,SACXC,OAAQ,kBACRC,OAAQ,KAIHC,EAAS,SAAAC,GAClB,IAAMC,EAAUd,IADW,EAEee,oBAAS,GAFxB,mBAEpBC,EAFoB,KAELC,EAFK,KAGrBC,EAAY,uCAAG,sBAAArE,EAAA,sEACXsE,EAAc/D,aAAayD,EAAMO,OAAOC,QAD7B,OAEjBJ,GAAiB,GAFA,2CAAH,qDAIlB,OACID,EAAgB,KAAO,oBAAIM,UAAWR,EAAQZ,KAAvB,SACnB,sBAAKoB,UAAWR,EAAQV,KAAxB,UACI,qEAAaS,EAAMO,OAAOG,KAA1B,OACA,iFAAeV,EAAMO,OAAOI,SAC5B,wBAAQC,QAASP,EAAjB,mGC1BVlB,EAAYC,YAAW,CACzByB,QAAS,CACLnB,QAAS,OACTC,cAAe,MACfmB,SAAU,UAGLC,GAAU,SAAAf,GACnB,IAAMC,EAAUd,IACV6B,EAAe,GAFO,EAIJd,mBAAS,IAJL,mBAIrBQ,EAJqB,KAIfO,EAJe,OAKFf,mBAAS,IALP,mBAKrBS,EALqB,KAKdO,EALc,KAOtB7E,EAAS,uCAAG,4BAAAL,EAAA,6DACdQ,QAAQC,IAAIiE,EAAMC,GADJ,SAEOL,EAAcjE,UAAU,CACzCqE,OACAC,UAJU,OAERJ,EAFQ,OAMdS,EAAaG,KAAK,CACdX,OAAQD,EAAOa,GACfV,OACAC,UATU,2CAAH,qDAaf,OACI,+BACI,uEAEI,qBAAKF,UAAWR,EAAQY,QAAxB,SAEQb,EAAMqB,UAAUR,QAAQS,OAAS,GAAKtB,EAAMqB,UAAUR,QAAQU,KAAI,SAAChB,EAAQiB,GACvE,OAAO,8BAKC,cAAC,EAAD,CAAQjB,OAAQA,EAAQc,UAAWrB,EAAMqB,aALhCd,EAAOC,gBAYxC,wBAGA,uBAAOiB,MAAOf,EAAMgB,QAAS,SAAAC,GAAC,OAAIV,EAAQU,EAAEC,OAAOH,QAAQI,YAAY,uBACvE,uBAAOC,WAAY,SAACC,GACP,QAAQC,KAAKD,EAAME,MACpBF,EAAMG,kBAGdT,MAAOd,EACPe,QAAS,SAAAC,GAAC,OAAIT,EAASiB,OAAOR,EAAEC,OAAOH,SACvCI,YAAY,+CAChB,wBAAQjB,QAASvE,EAAW+F,UAAW1B,IAASC,EAAhD,uGC5DC0B,GAAY,SAAArC,GAAU,IAAD,EAEEE,oBAAS,GAFX,mBAEvBoC,EAFuB,KAEbC,EAFa,KAO9B,OACI,+BACI,yBAAQ3B,QANG,WACf2B,GAAaD,IAKT,8DAAuCtC,EAAMwB,MAAQ,KACpDc,GAAY,cAAC,GAAD,CAASjB,UAAWrB,EAAMqB,gBCXtCmB,GAAa,SAAAxC,GACtB,OAAOA,EAAM3C,WAAWkE,KAAI,SAACF,EAAWG,GACpC,OAAO,cAAC,GAAD,CAAWA,MAAOA,EAAOH,UAAWA,GAAgBA,EAAUoB,eCDhEC,GAAQ,SAAA1C,GAAU,IAAD,EAEME,oBAAS,GAFf,mBAEnBoC,EAFmB,KAETC,EAFS,KAO1B,OAAO,+BACH,yBAAQ3B,QALO,WACf2B,GAAaD,IAIb,gCAAkCtC,EAAM2C,eAEpCL,GAAYtC,EAAM4C,aAAarB,KAAI,SAAClE,EAAYmE,GAC5C,OAAO,cAAC,GAAD,CAAYnE,WAAYwF,OAAOC,OAAOzF,IAAkBmE,UCZlEuB,GAAS,SAAA/C,GAClB,OAAOA,EAAMgD,iBAAiBzB,KAAI,SAAAoB,GAAW,OAAI,cAAC,GAAD,CAAyBA,YAAaA,EAAaC,aAAc5C,EAAM4C,cAA3DD,OCC3DxD,GAAYC,YAAW,CACzB6D,OAAQ,CACJnD,OAAQ,KAGHoD,GAAS,SAAAlD,GAClB,IAAMC,EAAUd,KACVgE,EAASnD,EAAMmD,OACfH,EAAmBH,OAAOO,KAAKD,EAAOE,QAHjB,EAKenD,oBAAS,GALxB,mBAKpBoD,EALoB,KAKJC,EALI,KAU3B,OAAoC,IAA5BP,EAAiB1B,QAAgB,gCACrC,cAACkC,EAAA,EAAD,CAAQC,QAAQ,WAAWhD,UAAWR,EAAQgD,OAAQrC,QAJhC,WACtB2C,GAAiBD,IAGjB,SACKH,EAAOzC,OAEZ,8BAEQ4C,GAAkB,8BACd,6BACI,cAAC,GAAD,CAAQN,iBAAkBA,EAAkBJ,aAAcC,OAAOC,OAAOK,EAAOE,kBARhDF,EAAO/B,KCjBjDsC,GAAU,SAAA1D,GACnB,IAAM9C,EAAU8C,EAAM9C,QACtB,OAAOA,GAAWA,EAAQqE,KAAI,SAAA4B,GAC1B,OAAO,cAAC,GAAD,CAAQA,OAAQA,GAAaA,EAAO/B,QCG7CjC,GAAYC,YAAW,CACzBC,KAAM,CACFI,OAAQ,OACRkE,SAAU,OACVC,YAAa,MAIRC,GAAc,SAAA7D,GAGvB,IAAMhB,EAAW8E,cACX7D,EAAUd,KAEV4E,EAAoB/D,EAAM1B,gBAC1BlB,EAAoB4G,aAAY,SAAAlG,GAAK,OAAIA,EAAMD,kBAAkBT,qBACjEE,EAAmB0G,aAAY,SAAAlG,GAAK,OAAIA,EAAMD,kBAAkBP,oBAChEH,EAAuB6G,aAAY,SAAAlG,GAAK,OAAIA,EAAMD,kBAAkBV,wBACpEE,EAAa2G,aAAY,SAAAlG,GAAK,OAAIA,EAAMD,kBAAkBR,cAC1DH,EAAU8G,aAAY,SAAAlG,GAAK,OAAIA,EAAMD,kBAAkBX,WACvDqB,EAAsByF,aAAY,SAAAlG,GAAK,OAAIA,EAAMoB,iBAAiBX,uBAExE0F,qBAAU,WV4CqB,IAAAnF,EU3CtBxB,GACD0B,EV4BoB,uCAAM,WAAMA,GAAN,eAAAhD,EAAA,6DAClCgD,EAASzB,GAAmB,IADM,kBAGR2G,EAAyB/H,aAHjB,OAGxBe,EAHwB,OAK9B8B,EAASrB,EAAWT,IACpB8B,EATuC,CAACvB,KAAMT,EAAwBQ,SASzC,IANC,sDAQxB,IAAI2G,MAAJ,MARwB,yBAU9BnF,EAASzB,GAAmB,IAVE,4EAAN,uDU1BxByB,GVwC2BF,EUxCEiF,EVwCO,uCAAI,WAAM/E,GAAN,eAAAhD,EAAA,6DAC5CgD,EAAStB,GAAsB,IADa,kBAGf0G,EAAkBzH,cAAc,CACrDmC,cAJoC,OAGlCzB,EAHkC,OAOxC2B,EAASpB,EAAcP,IAPiB,sDASlC,IAAI8G,MAAJ,MATkC,yBAWxCnF,EAAStB,GAAsB,IAXS,4EAAJ,0DUvCrC,IAECR,GACAA,EAAQmH,SAAQ,SAAAlB,GACZ,IAAMmB,EAAyBjH,EAAWkH,QAAO,SAAAlD,GAAS,OAAKA,EAAUmD,WAAarB,EAAO/B,MACvFqD,EAAuB,GAC7BH,EAAuBD,SAAQ,SAAAhD,GAC3BoD,EAAqBpD,EAAUqD,SAA/B,2BACOD,EAAqBpD,EAAUqD,UADtC,kBAEKrD,EAAUoB,UAAYpB,OAG/B8B,EAAM,OAAasB,KAG3B,IACMhG,EAActB,GAAwBC,EAE5C,OACI,sBAAKqD,UAAWR,EAAQZ,KAAxB,UACI,cAACmE,EAAA,EAAD,CAAQC,QAAQ,YAAYkB,MAAM,UAAU/D,QAL3B,kBAAM5B,EAASJ,GAAqB,KAKkBwD,SAAU3D,EAAjF,wFAGA,eAACmG,EAAA,EAAD,CAAYnB,QAAQ,YAApB,iIAAsDlF,KACtD,eAACqG,EAAA,EAAD,CAAYnB,QAAQ,YAApB,UAAiClF,EAAjC,oaACCE,EAAa,cAACmG,EAAA,EAAD,CAAYnB,QAAQ,YAApB,iEAA2D,cAAC,GAAD,CAASvG,QAASA,Q,wCCnDjGiC,GAAYC,YAAW,CACzBC,KAAM,CACFS,OAAQ,EACR+E,QAAS,EACTrF,MAAO,OACPsF,UAAW,QACXpF,QAAS,OACTqF,eAAgB,SAChBC,WAAY,UAEhBC,YAAa,CACTC,SAAU,OAILC,GAAgB,SAAAnF,GACzB,IAAMhB,EAAW8E,cACX7D,EAAUd,KAEViG,EAAgBpB,aAAY,SAAAlG,GAAK,OAAIA,EAAMoB,iBAAiBb,aAElE4F,qBAAU,WACNjF,EV4BwB,uCAAM,WAAOA,GAAP,eAAAhD,EAAA,6DAClCgD,EAASN,KADyB,kBAGNwF,EAAyBpI,yBAHnB,OAGxBuC,EAHwB,OAK9BW,EAASL,EAAaN,IALQ,sDAOxB,IAAI8F,MAAJ,MAPwB,yBAS9BnF,EAASN,KATqB,4EAAN,yDU3BzB,IAMH,OACI,qBAAK+B,UAAWR,EAAQZ,KAAxB,SACI,eAACgG,GAAA,EAAD,CAAa5E,UAAWR,EAAQgF,YAAhC,UACI,cAACK,GAAA,EAAD,kIACA,cAACC,GAAA,EAAD,CAAQC,SAAU,SAAA7D,GAAC,OART,SAAC,GAAkB,IAAhBP,EAAe,EAAfA,GAAIV,EAAW,EAAXA,KACzB1B,EAASH,EAAiBuC,EAAIV,IAOC+E,CAAc9D,EAAEC,OAAOH,QAAQiE,aAAa,GAAnE,SAEQN,GAAiBA,EAAc7D,KAAI,SAAAI,GAAC,OAAI,cAACgE,GAAA,EAAD,CACpClE,MAAO,CAACL,GAAIO,EAAEP,GAAIV,KAAMiB,EAAEjB,MADU,SAI/BiB,EAAEjB,MAFFiB,EAAEP,e,6BCxC7BwE,GAAQC,aAAY,CACtBC,QAAS,CACLrI,KAAM,QAEVsI,WAAY,CACRC,YAAa,CACTrB,MAAO,YAKbxF,GAAYC,YAAW,CACzBC,KAAM,CACFS,OAAQ,EACR+E,QAAS,EACTrF,MAAO,OACPsF,UAAW,WAINmB,GAAM,WAEf,IAAMhG,EAAUd,KAEVX,EAAoBwF,aAAY,SAAAlG,GAAK,OAAIA,EAAMoB,iBAAiBV,qBAChEF,EAAkB0F,aAAY,SAAAlG,GAAK,OAAIA,EAAMoB,iBAAiBZ,mBAEpE,OACI,eAAC4H,GAAA,EAAD,CAAeN,MAAOA,GAAtB,UACI,cAACO,GAAA,EAAD,IACA,qBAAK1F,UAAWR,EAAQZ,KAAxB,SAEQb,EACE,cAAC,GAAD,CAAaF,gBAAiBA,IAC9B,cAAC,GAAD,UC5BP8H,GAZS,SAAAC,GAChBA,GAAeA,aAAuBC,UACtC,8BAAsBC,MAAK,YAAgD,IAA9CC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACzDJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,kBCHdQ,GAAWC,aAAgB,CAC7BjJ,oBACAqB,qBAGE6H,GAAQC,aAAYH,GAAUI,aAAgBC,OACpDC,OAAOJ,MAAQA,GAEAA,UCLfK,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUP,MAAOA,GAAjB,SACI,cAAC,GAAD,QAESQ,SAASC,eAAe,SAK7CpB,O","file":"static/js/main.d81b8f45.chunk.js","sourcesContent":["class BaseService {\r\n    constructor (httpClient) {\r\n        this.instance = httpClient.instance\r\n\r\n        this.instance.interceptors.request.use(config => {\r\n            const token = process.env.REACT_APP_API_TOKEN\r\n            config.headers[\"Authorization\"] = `Bearer ${token}`\r\n\r\n            return config\r\n        },\r\n        error => {\r\n            Promise.reject(error);\r\n        })\r\n    }\r\n}\r\n\r\nexport default BaseService","export const Config = {\r\n    API_URL: process.env.REACT_APP_API_URL,\r\n} ","import axios from \"axios\";\r\n\r\nexport default class HttpClient {\r\n    constructor(baseURL) {\r\n        this.instance = axios.create({\r\n            baseURL,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        });\r\n    }\r\n}\r\n","import { HttpClient } from \"../modules\";\r\nimport { Config } from \"../modules/Constants\";\r\nimport BaseService from \"./BaseService\";\r\n\r\nclass ManagementCompanyService extends BaseService {\r\n    getManagementCompanies = async (params) => {\r\n        const { data } = await this.instance.get('/Request/companies', {\r\n            params,\r\n        })\r\n\r\n        return data\r\n    }\r\n\r\n    getStreets = async (params) => {\r\n        const { data } = await this.instance.get('/Request/streets', {\r\n            params,\r\n        })\r\n        \r\n        return data\r\n    }\r\n}\r\n\r\nexport default new ManagementCompanyService(new HttpClient(Config.API_URL))","import { HttpClient } from \"../modules\";\r\nimport { Config } from \"../modules/Constants\";\r\nimport BaseService from \"./BaseService\";\r\n\r\nclass ClientService extends BaseService {\r\n    getClients = async (params) => {\r\n        const { data } = await this.instance.get('/HousingStock/client', {\r\n            params,\r\n        })\r\n\r\n        return data\r\n    }\r\n\r\n    addClient = async (params) => {\r\n        const { data } = await this.instance.post('/HousingStock/client', {\r\n            params,\r\n        })\r\n\r\n        return data\r\n    }\r\n\r\n    deleteClient = async (params) => {\r\n        console.log(params, 'service')\r\n        const { data } = await this.instance.delete(`/HousingStock/bind_client/${params}`)\r\n\r\n        return data\r\n    }\r\n}\r\n\r\nexport default new ClientService(new HttpClient(Config.API_URL))","import { HttpClient } from \"../modules\";\r\nimport { Config } from \"../modules/Constants\";\r\nimport BaseService from \"./BaseService\";\r\n\r\nclass ApartmentsService extends BaseService {\r\n    getApartments = async (params) => {\r\n        const { data } = await this.instance.get('/HousingStock', {\r\n            params,\r\n        })\r\n        \r\n        return data\r\n    }\r\n}\r\n\r\nexport default new ApartmentsService(new HttpClient(Config.API_URL))","import { managementCompanyService, apartmentsService } from \"../../services\"\r\n\r\nconst SET_STREETS = 'GET_COMPANIES'\r\nconst SET_APARTMENTS = 'SET_APARTMENTS'\r\nconst SET_APARTMENTS_FETCHING = 'SET_APARTMENTS_FETCHING'\r\nconst SET_STREETS_FETCHING = 'SET_STREETS_FETCHING'\r\nconst SET_IS_STREETS_FETCHED = 'SET_IS_STREETS_FETCHED'\r\n\r\nlet initialState = {\r\n    streets: [],\r\n    isApartmentsFetching: false,\r\n    isStreetsFetching: false,\r\n    apartments: [],\r\n    isStreetsFetched: false,\r\n}\r\n\r\nconst apartmentsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_STREETS:\r\n            return {\r\n                ...state,\r\n                streets: action.streets\r\n            }\r\n\r\n        case SET_APARTMENTS: \r\n            return {\r\n                ...state,\r\n                apartments: action.apartments\r\n            }\r\n\r\n        case SET_APARTMENTS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isApartmentsFetching: action.boolean\r\n            }\r\n\r\n        case SET_STREETS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isStreetsFetching: action.boolean\r\n            }\r\n\r\n        case SET_IS_STREETS_FETCHED:\r\n            return {\r\n                ...state,\r\n                isStreetsFetched: action.boolean\r\n            }\r\n\r\n        default:\r\n            return state\r\n    } \r\n}\r\n\r\nconst setStreetsFetching = boolean => ({type: SET_STREETS_FETCHING, boolean})\r\nconst setApartmentsFetching = boolean => ({type: SET_APARTMENTS_FETCHING, boolean})\r\nexport const setStreets = streets => ({type: SET_STREETS, streets})\r\nexport const setIsStreetsFetched = boolean => ({type: SET_IS_STREETS_FETCHED, boolean})\r\nexport const setApartments = apartments => ({type: SET_APARTMENTS, apartments})\r\n\r\nexport const setListOfStreets = () => async dispatch => {\r\n    dispatch(setStreetsFetching(true))\r\n    try {\r\n        const streets = await managementCompanyService.getStreets()\r\n        \r\n        dispatch(setStreets(streets))\r\n        dispatch(setIsStreetsFetched(true))\r\n    } catch (error) {\r\n        throw new Error(error)\r\n    } finally {\r\n        dispatch(setStreetsFetching(false))        \r\n    }\r\n}\r\n\r\nexport const setListOfApartments = companyId => async dispatch => {\r\n    dispatch(setApartmentsFetching(true))\r\n    try {\r\n        const apartments = await apartmentsService.getApartments({\r\n            companyId,\r\n        })\r\n        \r\n        dispatch(setApartments(apartments))\r\n    } catch (error) {\r\n        throw new Error(error)\r\n    } finally {\r\n        dispatch(setApartmentsFetching(false))        \r\n    }\r\n}\r\n\r\nexport default apartmentsReducer","import { managementCompanyService } from './../../services'\r\n\r\nconst SET_COMPANIES = 'SET_COMPANIES'\r\nconst SET_SELECTED_COMPANY = 'SET_SELECTED_COMPANY'\r\nconst SET_SELECTED_COMPANY_NAME = 'SET_SELECTED_COMPANY_NAME'\r\nconst SET_IS_COMPANY_SELECTED = 'SET_IS_COMPANY_SELECTED'\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING'\r\n\r\nlet initialState = {\r\n    companies: [],\r\n    selectedCompany: null,\r\n    selectedCompanyName: '',\r\n    isCompanySelected: false,\r\n    isFetching: false,\r\n}\r\n\r\nconst companiesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_COMPANIES:\r\n            return {\r\n                ...state,\r\n                companies: action.companies\r\n            }\r\n\r\n        case SET_SELECTED_COMPANY:\r\n            return {\r\n                ...state,\r\n                selectedCompany: action.selectedCompany\r\n            }\r\n\r\n        case SET_SELECTED_COMPANY_NAME:\r\n            return {\r\n                ...state,\r\n                selectedCompanyName: action.selectedCompanyName\r\n            }\r\n\r\n        case SET_IS_COMPANY_SELECTED:\r\n            return {\r\n                ...state,\r\n                isCompanySelected: action.isCompanySelected\r\n            }\r\n\r\n        case TOGGLE_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: !state.isFetching\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst toggleFetching = () => ({type: TOGGLE_FETCHING})\r\nexport const setCompanies = companies => ({type: SET_COMPANIES, companies})\r\nexport const setSelectedCompany = selectedCompany => ({type: SET_SELECTED_COMPANY, selectedCompany})\r\nexport const setCompanyName = selectedCompanyName => ({type: SET_SELECTED_COMPANY_NAME, selectedCompanyName}) \r\nexport const setIsCompanySelected = isCompanySelected => ({type: SET_IS_COMPANY_SELECTED, isCompanySelected})\r\n\r\nexport const setCompaniesList = () => async (dispatch) => {\r\n    dispatch(toggleFetching())\r\n    try {\r\n        const companies = await managementCompanyService.getManagementCompanies()\r\n        \r\n        dispatch(setCompanies(companies))\r\n    } catch (error) {\r\n        throw new Error(error)\r\n    } finally {\r\n        dispatch(toggleFetching())\r\n    }\r\n}\r\n\r\nexport const setChosenCompany = (companyId, companyName) => dispatch => {\r\n    dispatch(setSelectedCompany(Number(companyId)))\r\n    dispatch(setCompanyName(companyName))\r\n    dispatch(setIsCompanySelected(true))\r\n}\r\n\r\nexport default companiesReducer ","import { makeStyles } from \"@material-ui/core\"\r\nimport { useState } from \"react\"\r\nimport { clientService } from \"../../../../../../services\"\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        listStyleType: 'none'\r\n    },\r\n    card: {\r\n        width: 200,\r\n        height: 130,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        textAlign: 'center',\r\n        border: '2px solid black',\r\n        margin: 2,\r\n    }\r\n})\r\n\r\nexport const Client = props => {\r\n    const classes = useStyles()\r\n    const [clientDeleted, setClientDeleted] = useState(false)\r\n    const handleDelete = async () => {\r\n        await clientService.deleteClient(props.client.bindId)\r\n        setClientDeleted(true)\r\n    }\r\n    return (\r\n        clientDeleted ? null : <li className={classes.root}>\r\n            <div className={classes.card}>\r\n                <p>{`Жилец ${props.client.name},`}</p>\r\n                <p>{`телефон ${props.client.phone}`}</p>\r\n                <button onClick={handleDelete}>Удалить жильца</button>\r\n            </div>\r\n        </li>\r\n    )\r\n}","import { Client } from \"./Client/Client\"\r\nimport { makeStyles } from \"@material-ui/core\"\r\nimport { clientService } from \"../../../../../services\"\r\nimport { useState } from \"react\"\r\n\r\nconst useStyles = makeStyles({\r\n    clients: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap'\r\n    },\r\n})\r\nexport const Clients = props => {\r\n    const classes = useStyles()\r\n    const addedClients = []\r\n\r\n    const [name, setName] = useState('')\r\n    const [phone, setPhone] = useState('')\r\n\r\n    const addClient = async () => {\r\n        console.log(name, phone)\r\n        const client = await clientService.addClient({\r\n            name,\r\n            phone\r\n        })\r\n        addedClients.push({\r\n            bindId: client.id,\r\n            name,\r\n            phone,\r\n        })\r\n    }\r\n\r\n    return ( \r\n        <ul>\r\n            <div >\r\n                Жильцы\r\n                <div className={classes.clients}>\r\n                    {\r\n                        props.apartment.clients.length > 0 && props.apartment.clients.map((client, index) => {\r\n                            return <div key={client.bindId}>\r\n                                {\r\n                                    //addedClients.length > 0 && addedClients.map(client => {\r\n                                    //    return <Client client={client} apartment={props.apartment} key={client.bindId}/>\r\n                                    //})\r\n                                    <Client client={client} apartment={props.apartment}/>\r\n                                }\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div>\r\n                \r\n            </div>\r\n            <input value={name} onInput={e => setName(e.target.value)} placeholder=\"имя\"/>\r\n            <input onKeyPress={(event) => {\r\n                    if (!/[0-9]/.test(event.key)) {\r\n                        event.preventDefault();\r\n                    }}\r\n                } \r\n                value={phone} \r\n                onInput={e => setPhone(String(e.target.value))} \r\n                placeholder=\"телефон\"/>\r\n            <button onClick={addClient} disabled={!name || !phone}>Добавить жильца</button>\r\n        </ul>\r\n    )\r\n}","import { useState } from \"react\"\r\nimport { Clients } from \"./Clients/Clients\"\r\n\r\nexport const Apartment = props => {\r\n\r\n    const [isOpened, setIsOpened] = useState(false)\r\n    const handleOpen = () => {\r\n        setIsOpened(!isOpened)\r\n    }\r\n    \r\n    return (\r\n        <ul>\r\n            <button onClick={handleOpen}>Квартира {props.index + 1}</button>\r\n            {isOpened && <Clients apartment={props.apartment}/>}\r\n        </ul>\r\n    )\r\n}","import { Apartment } from \"./Apartment/Apartment\"\r\n\r\nexport const Apartments = props => {\r\n    return props.apartments.map((apartment, index) => {\r\n        return <Apartment index={index} apartment={apartment} key={apartment.addressId}/>\r\n    })\r\n}","import { useState } from \"react\"\r\nimport { Apartments } from \"../../Apartments/Apartments\"\r\n\r\nexport const House = props => {\r\n\r\n    const [isOpened, setIsOpened] = useState(false)\r\n    const handleOpen = () => {\r\n        setIsOpened(!isOpened)\r\n    }\r\n\r\n    return <li>\r\n        <button onClick={handleOpen}>Дом {props.houseNumber}</button>\r\n        {\r\n            isOpened && props.streetHouses.map((apartments, index) => {\r\n                return <Apartments apartments={Object.values(apartments)} key={index}/>\r\n            })\r\n        }\r\n    </li>\r\n}","import { House } from \"./House/House\"\r\n\r\nexport const Houses = props => {\r\n    return props.streetHousesKeys.map(houseNumber => <House key={houseNumber} houseNumber={houseNumber} streetHouses={props.streetHouses}/>)\r\n}","import {Button, makeStyles} from \"@material-ui/core\"\r\nimport { useState } from \"react\"\r\nimport {Houses} from \"../../Houses/Houses\"\r\n\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        margin: 3\r\n    }\r\n})\r\nexport const Street = props => {\r\n    const classes = useStyles()\r\n    const street = props.street\r\n    const streetHousesKeys = Object.keys(street.houses)\r\n\r\n    const [isStreetOpened, setStreetOpened] = useState(false)\r\n\r\n    const openButtonHandler = () => {\r\n        setStreetOpened(!isStreetOpened)\r\n    }\r\n    return (streetHousesKeys.length !== 0 && <div key={street.id}>\r\n        <Button variant=\"outlined\" className={classes.button} onClick={openButtonHandler}>\r\n            {street.name}\r\n        </Button>\r\n        <div>\r\n            { \r\n                isStreetOpened && <div>\r\n                    <ul>\r\n                        <Houses streetHousesKeys={streetHousesKeys} streetHouses={Object.values(street.houses)}/>\r\n                    </ul>\r\n                </div>\r\n            }\r\n        </div>\r\n    </div>)\r\n}","import { Street } from \"./Street.jsx/Street\"\r\n\r\nexport const Streets = props => {\r\n    const streets = props.streets\r\n    return streets && streets.map(street => {\r\n        return <Street street={street} key={street.id}/>\r\n    })\r\n}","import {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {setListOfApartments, setListOfStreets} from '../../store/reducers/apartments-reducer';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {Button, Typography} from '@material-ui/core';\r\nimport {setIsCompanySelected} from '../../store/reducers/companies-reducer';\r\nimport { Streets } from './Streets/Streets';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        height: '100%',\r\n        maxWidth: '100%',\r\n        paddingLeft: 10\r\n    },\r\n})\r\n\r\nexport const CompanyPage = props => {\r\n    // вообще компоненты нужно хорошо, даже очень хорошо зарефакторить, \r\n    // но основная масса писалась ночью, так что и код соответствующий\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n\r\n    const selectedCompanyId = props.selectedCompany\r\n    const isStreetsFetching = useSelector(state => state.apartmentsReducer.isStreetsFetching)\r\n    const isStreetsFetched = useSelector(state => state.apartmentsReducer.isStreetsFetched)\r\n    const isApartmentsFetching = useSelector(state => state.apartmentsReducer.isApartmentsFetching)\r\n    const apartments = useSelector(state => state.apartmentsReducer.apartments)\r\n    const streets = useSelector(state => state.apartmentsReducer.streets)\r\n    const selectedCompanyName = useSelector(state => state.companiesReducer.selectedCompanyName)\r\n\r\n    useEffect(() => {\r\n        if (!isStreetsFetched) {\r\n            dispatch(setListOfStreets())\r\n        }\r\n        dispatch(setListOfApartments(selectedCompanyId))\r\n    }, [])\r\n\r\n    if (streets) {\r\n        streets.forEach(street => { // Перебирая все улицы,\r\n            const apartmentsOnThisStreet = apartments.filter(apartment => (apartment.streetId === street.id)) // получаем квартиры, находящиеся на итерируемой улице.\r\n            const housesWithApartments = {} // Создаем объект в котором будут храниться дома с квартирами (номер дома: { квартира, квартира, ... })\r\n            apartmentsOnThisStreet.forEach(apartment => { // Перебирая все квартиры,\r\n                housesWithApartments[apartment.houseId] = {\r\n                    ...housesWithApartments[apartment.houseId],\r\n                    [apartment.addressId]: apartment\r\n                } // создаем дом, добавляем в него итерируемую квартиру / добавляем квартиру в уже существующий дом.\r\n            })\r\n            street['houses'] = housesWithApartments // И наконец добавляем дома на улицу.\r\n        })\r\n    }\r\n    const handleBackButton = () => dispatch(setIsCompanySelected(false))\r\n    const isFetching = (isApartmentsFetching || isStreetsFetching)\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleBackButton} disabled={isFetching}>\r\n                Назад к выбору\r\n            </Button>\r\n            <Typography variant=\"subtitle1\">Управляющая компания {selectedCompanyName}</Typography>\r\n            <Typography variant=\"subtitle2\">{selectedCompanyName} имеет дома на данных улицах: (сделано что-бы не показывало все улицы, много пустых)</Typography>\r\n            {isFetching ? <Typography variant=\"subtitle1\">ЗАГРУЗКА...</Typography> : <Streets streets={streets}/>}\r\n        </div>\r\n    )\r\n}","import {useEffect} from \"react\"\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport {setCompaniesList, setChosenCompany} from \"../../store/reducers/companies-reducer\"\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {FormControl} from \"@material-ui/core\";\r\nimport {InputLabel} from \"@material-ui/core\";\r\nimport {Select} from \"@material-ui/core\";\r\nimport {MenuItem} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        margin: 0,\r\n        padding: 0,\r\n        width: '100%',\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    formControl: {\r\n        minWidth: 250,\r\n    },\r\n})\r\n\r\nexport const CompanySelect = props => {\r\n    const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n\r\n    const companiesList = useSelector(state => state.companiesReducer.companies)\r\n\r\n    useEffect(() => {\r\n        dispatch(setCompaniesList())\r\n    }, [])\r\n\r\n    const optionHandler = ({ id, name }) => {\r\n        dispatch(setChosenCompany(id, name))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <FormControl className={classes.formControl}>\r\n                <InputLabel>Управляющая компания</InputLabel>\r\n                <Select onChange={e => optionHandler(e.target.value)} defaultValue=\"\">\r\n                    {\r\n                        companiesList && companiesList.map(e => <MenuItem \r\n                            value={{id: e.id, name: e.name}} \r\n                            key={e.id}\r\n                            >\r\n                                {e.name}\r\n                        </MenuItem>)\r\n                    }\r\n                </Select>\r\n            </FormControl>\r\n\r\n        </div>\r\n    )\r\n}","import {useSelector} from \"react-redux\"\nimport {CompanyPage} from \"./CompanyPage/CompanyPage\"\nimport {CompanySelect} from \"./CompanySelect/CompanySelect\"\nimport {makeStyles, ThemeProvider, createTheme} from '@material-ui/core/styles';\nimport { CssBaseline } from \"@material-ui/core\";\n\nconst theme = createTheme({\n    palette: {\n        type: 'dark',\n    },\n    typography: {\n        allVariants: {\n            color: \"white\"\n        },\n    },\n});\n\nconst useStyles = makeStyles({\n    root: {\n        margin: 0,\n        padding: 0,\n        width: '100%',\n        minHeight: '100vh'\n    }\n})\n\nexport const App = () => {\n\n    const classes = useStyles()\n\n    const isCompanySelected = useSelector(state => state.companiesReducer.isCompanySelected)\n    const selectedCompany = useSelector(state => state.companiesReducer.selectedCompany)\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <div className={classes.root}>\n                {\n                    isCompanySelected\n                    ? <CompanyPage selectedCompany={selectedCompany}/>\n                    : <CompanySelect/>\n                }\n            </div>\n        </ThemeProvider>\n\n    )\n}\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import ('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;","import { createStore, combineReducers, applyMiddleware } from \"redux\"\r\nimport ReduxThunk from 'redux-thunk'\r\nimport { apartmentsReducer, companiesReducer } from \"./reducers\"\r\n\r\nconst reducers = combineReducers({\r\n    apartmentsReducer,\r\n    companiesReducer\r\n})\r\n\r\nconst store = createStore(reducers, applyMiddleware(ReduxThunk))\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n</React.StrictMode>, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function to\n// log results (for example: reportWebVitals(console.log)) or send to an\n// analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}